<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Email Phishing Detector</title>
<style>
body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#141e30,#243b55);color:#fff;}
.container{max-width:800px;margin:30px auto;padding:20px;background:rgba(0,0,0,0.7);border-radius:12px;}
textarea{width:100%;height:160px;padding:12px;margin:12px 0;border-radius:8px;border:none;}
button{padding:12px 20px;border:none;border-radius:8px;background:#ff512f;color:#fff;font-size:16px;cursor:pointer;}
.card{background:#222;padding:15px;border-radius:10px;margin:10px 0;}
.logout{text-align:right;margin-bottom:10px;}
a{color:#ffcc70;text-decoration:none;}
.risk{margin:8px 0;font-size:18px;}
</style>
</head>
<body>
<div class="container">
  <div class="logout"><a href="{{ url_for('logout') }}">Logout</a></div>
  <h1>Phishing Email Detector</h1>
  <form method="post">
    <textarea name="email" placeholder="Paste email content here...">{{ sample }}</textarea>
    <button type="submit">Analyze Email</button>
  </form>

  {% if result %}
  <h2>Result</h2>
  <div class="risk">
    <strong>Score:</strong> {{ result.score }} &nbsp; | &nbsp;
    <strong>Risk:</strong>
    <span style="color: {{ 'red' if result.risk == 'HIGH' else 'orange' if result.risk == 'MEDIUM' else 'lightgreen' }}">{{ result.risk }}</span>
  </div>

  {% for flag in result.flags %}
  <div class="card">
    <h3>{{ flag.title }}</h3>
    <p>{{ flag.desc }}</p>
    <p><strong>Points:</strong> {{ flag.points }}</p>
  </div>
  {% endfor %}

  <div class="card">
    <h3>âœ… Safety Tips</h3>
    <ul>
      {% for tip in result.tips %}
      <li>{{ tip }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>
</body>
</html>
